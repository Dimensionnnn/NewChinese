{"version":3,"sources":["component/main/footer.js","component/index/IndexItem.jsx","component/index/IndexList.jsx","component/index/IndexRefineItem.jsx","component/index/IndexRefine.jsx","component/main/WordPage.jsx","component/main/DocPagefun.jsx","component/main/AnalyzePage.jsx","component/store/display/homeSet.js","component/store/user/loginState.js","component/store/user/userInfo.js","component/navbar/NavBar.js","component/login/Login.js","component/home/choose.js","pages/Home.js","pages/Dashboard.js","pages/Analysis.js","component/result/FlavorForm.js","component/result/TabSetup.js","component/CheckBox.jsx","pages/Result.js","App.js","component/store/store.js","index.js"],"names":["Footer","react_default","a","createElement","Box","display","alignItems","justifyContent","IndexItem","handleChange","indexStr","_this","props","setIndex","handleRefresh","index","_this2","this","token","PubSub","subscribe","_","indexName","unsubscribe","_this3","class","value","onClick","Component","IndexList","_this$props","indexs","className","map","IndexItem_IndexItem","key","IndexRefineItem","attribute","RefinementList","limit","IndexRefine","filterableAttributes","ClearRefinements","IndexRefineItem_IndexRefineItem","searchClient","instantMeiliSearch","CustomSearchBox","connectSearchBox","_ref","currentRefinement","refine","theme","useTheme","motion","div","initial","opacity","scale","animate","transition","duration","sx","bgcolor","concat","palette","primary","light","borderRadius","minHeight","secondary","main","Input","type","playholder","disableUnderline","onChange","event","currentTarget","wordPage","updateWordIndexs","updateIndexs","selectedIndex","displayedAttributes","InstantSearch","IndexList_IndexList","IndexRefine_IndexRefine","CurrentRefinements","Stats","HitsPerPage","defaultRefinement","items","label","Hits","hitComponent","_ref2","hit","Fragment","split","join","Snippet","style","Pagination","showLast","MeiliSearch","host","apiKey","DocPage","_useState","useState","_useState2","Object","slicedToArray","apikey","_useState3","_useState4","tenant_token","setTenant_token","useSelector","state","userInfo","useEffect","console","log","createToken","userid","slice","usertoken","axios","get","params","then","response","data","Configure","attributesToSnippet","snippetEllipsisText","DocPagefun_CustomSearchBox","navigate","useNavigate","id","title","public","text","AnalyzePage","editorValue","useRef","Container","mt","ts","tinymceScriptSrc","onInit","evt","editor","current","initialValue","init","language","min_height","width","menubar","icons","plugins","toolbar","content_style","file_picker_callback","callback","meta","filetype","Button","getContent","homeSet","createSlice","name","initialState","reducers","word","article","edit","login","reset","_homeSet$actions","actions","loginState","logout","_loginState$actions","user","userLoggedIn","action","_action$payload","payload","userLoggedout","_userInfo$actions","ResponsiveAppBar","_React$useState","React","_React$useState2","anchorElUser","setAnchorElUser","dispatch","useDispatch","loggedIn","react","AppBar","position","maxWidth","Toolbar","disableGutters","Adb_default","xs","md","mr","Typography","variant","noWrap","component","fontFamily","fontWeight","letterSpacing","color","textDecoration","flexGrow","my","Tooltip","IconButton","p","Avatar","alt","src","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","MenuItem","textAlign","options","method","url","headers","content-type","Accept","sendToken","publish","Login","username","setUsername","password","setPassword","react_router","to","onSubmit","preventDefault","info","request","res","code","alert","target","catch","error","TextField","margin","required","fullWidth","autoFocus","rvariant","Choose","Stack","direction","spacing","whileHover","textShadow","whileTap","height","fontSize","backgroundColor","dark","Home","tab","curIndex","getIndexes","newIndex","i","results","length","push","uid","setState","getFilterableAttributes","getSettings","getDisplayedAttributes","newDisplayedAttributes","getLogin","NavBar","choose","footer","WordPage_wordPage","assign","DocPagefun","main_AnalyzePage","pages_Home","Home_Home","Dashboard","Grid","container","item","Paper","elevation","Divider","Analysis","editorRef","location","useLocation","client","placeholder","save_onsavecallback","window","confirm","addDocuments","级别","genre","FlavorForm","classCallCheck","_super","call","setWaitPublicCheck","changed","bind","assertThisInitialized","TabSetup","tabActiveIndex","handleTabClick","border","padding","prototype","CheckBox","getValue","sex","handlePublic","checked","e","htmlFor","Result","setEdit","_useState5","_useState6","newcontent","setNewcontent","pblc","setPrivate","deleteDocument","script","document","async","body","appendChild","removeChild","float","pointerEvents","new_id","nanoid","component_CheckBox","newValue","newContent","result_FlavorForm","updateDocuments","html","htmlTree","arguments","undefined","creatHtmlTree","blob","Blob","FileSaver","saveAs","createTheme","contrastText","App","ThemeProvider","react_router_dom","path","element","pages_Dashboard","pages_Analysis","pages_Result","persistConfig","storage","rootReducer","combineReducers","persistedReducer","persistReducer","store","configureStore","reducer","persistor","persistStore","ReactDOM","render","StrictMode","es","integration_react","loading","src_App","getElementById"],"mappings":"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","file":"static/js/main.13c55932.chunk.js","sourcesContent":["import Box from \"@mui/material/Box\";\r\nimport React from \"react\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\r\n      &copy; 华东师范大学·国际汉语文化学院\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { Component } from 'react'\r\nimport PubSub from 'pubsub-js'\r\n\r\nexport default class IndexItem extends Component {\r\n\r\n  handleChange = (indexStr) => {\r\n    this.props.setIndex(indexStr)\r\n  }\r\n  handleRefresh = (index) => {\r\n    this.props.setIndex(index)\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.token = PubSub.subscribe('refreshIndex', (_, indexName) => {\r\n      this.handleRefresh(indexName)\r\n    })\r\n  }\r\n  componentWillUnmount() {\r\n    PubSub.unsubscribe(this.token)\r\n  }\r\n  render() {\r\n    const { indexStr } = this.props\r\n    return (\r\n        <li class=\"btn btn-default\" value={{ indexStr }} onClick={() => this.handleChange(indexStr)}>{\r\n          indexStr === \"HSK_utf8_id_space\"?\"HSK词库\":\r\n          indexStr === \"words_3d9j_space0\"?\"三等九级词库\":\r\n          indexStr === \"doc_wiki_05\"?\"公开文本库\":\r\n          indexStr === \"all_private\"?\"私有文本库\":\r\n          indexStr === \"wait_to_check\"?\"待审核库\":\r\n          indexStr === \"wait_to_submit\"?\"待提交库\":\r\n          indexStr\r\n          }</li>\r\n    )\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport IndexItem from \"./IndexItem\";\r\n\r\nexport default class IndexList extends Component {\r\n  render() {\r\n    const { indexs, setIndex } = this.props;\r\n    return (\r\n      <ul className=\"btn-group-vertical\">\r\n        {indexs.map((indexStr) => {\r\n          return (\r\n            <IndexItem key={indexStr} indexStr={indexStr} setIndex={setIndex} />\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {\r\n  RefinementList,\r\n} from \"react-instantsearch-dom\";\r\n\r\nexport default class IndexRefineItem extends Component {\r\n  render() {\r\n    const { attribute } = this.props\r\n    return (\r\n      <div>\r\n        <h2>{attribute}</h2>\r\n        <RefinementList attribute={attribute} limit={20}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {\r\n  ClearRefinements,\r\n} from \"react-instantsearch-dom\";\r\nimport IndexRefineItem from './IndexRefineItem';\r\n\r\nexport default class IndexRefine extends Component {\r\n  render() {\r\n    const { filterableAttributes } = this.props\r\n    return (\r\n      <div>\r\n        <ClearRefinements />\r\n        {\r\n          filterableAttributes && filterableAttributes.map((attribute) => {\r\n            return <IndexRefineItem key={attribute} attribute={attribute} />\r\n          })\r\n        }\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n","import \"instantsearch.css/themes/algolia-min.css\";\r\nimport React, { Component } from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Input from \"@mui/material/Input\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport IndexList from \"../index/IndexList\";\r\nimport IndexRefine from \"../index/IndexRefine\";\r\nimport { Snippet, Stats } from \"react-instantsearch-dom\";\r\nimport {\r\n  InstantSearch,\r\n  Hits,\r\n  Pagination,\r\n  HitsPerPage,\r\n  CurrentRefinements,\r\n  connectSearchBox,\r\n} from \"react-instantsearch-dom\";\r\nimport \"./WordPage.css\";\r\nimport { motion } from \"framer-motion\";\r\nimport { instantMeiliSearch } from \"@meilisearch/instant-meilisearch\";\r\n\r\nconst searchClient = instantMeiliSearch(\r\n  \"http://127.0.0.1:7700/\",\r\n  \"1854f0d8befc8abed938cc18ecf327582f1b1eb3625fbd0a689e8c9edc0c4c94\"\r\n);\r\n\r\nconst SearchBox = ({ currentRefinement, refine }) => {\r\n  const theme = useTheme();\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.5 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      <Box\r\n        display=\"flex\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n        sx={{\r\n          bgcolor: `${theme.palette.primary.light}`,\r\n          borderRadius: 2,\r\n        }}\r\n        minHeight=\"10vh\"\r\n      >\r\n        <Box sx={{\r\n          bgcolor: `${theme.palette.secondary.main}`,\r\n        }}>\r\n          <Input\r\n            type=\"search\"\r\n            playholder=\"搜索\"\r\n            disableUnderline={true}\r\n            value={currentRefinement}\r\n            onChange={(event) => refine(event.currentTarget.value)}\r\n          />\r\n        </Box>\r\n      </Box>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nconst CustomSearchBox = connectSearchBox(SearchBox);\r\nvar displayedAttributes = []\r\nexport default class wordPage extends Component {\r\n  updateWordIndexs = () => {\r\n    this.props.updateIndexs(\r\n      \"1854f0d8befc8abed938cc18ecf327582f1b1eb3625fbd0a689e8c9edc0c4c94\"\r\n    );\r\n  };\r\n  render() {\r\n    const {\r\n      filterableAttributes,\r\n      selectedIndex,\r\n      indexs,\r\n      setIndex,\r\n      displayedAttributes,\r\n    } = this.props;\r\n    const Hit = ({ hit }) => {\r\n      return (\r\n        <div>\r\n          {\r\n            hit[\"生词\"] === \"本结果非词库数据，展示包含的所有等级与词性\" || hit[\"生词\"] === \"没搜到想搜的？点我试试\" ?\r\n              <></> :\r\n              displayedAttributes.map((attribute) => {\r\n                return (\r\n                  <div className=\"hit-description\">\r\n                    {attribute}:\r\n                    {\r\n                      selectedIndex === \"words_3d9j_space0\" ?\r\n                        attribute === \"生词\" ?\r\n                          <span>{hit[attribute].split(\" \").join('')}</span> :\r\n                          <Snippet attribute={attribute} hit={hit} style=\"white-space;\" /> :\r\n                        selectedIndex === \"HSK_utf8_id_space\" ?\r\n                          attribute === \"生词\" ?\r\n                            <span>{hit[attribute].split(\" \").join('')}</span> :\r\n                            <Snippet attribute={attribute} hit={hit} style=\"white-space;\" /> :\r\n                          <Snippet attribute={attribute} hit={hit} style=\"white-space;\" />\r\n                    }\r\n                  </div>\r\n                );\r\n              })\r\n          }\r\n        </div>\r\n      );\r\n    };\r\n    return (\r\n      <InstantSearch indexName={selectedIndex} searchClient={searchClient}>\r\n        <div className=\"ais-InstantSearch\">\r\n          <div className=\"left-panel\">\r\n            <button onClick={this.updateWordIndexs} className=\"btn btn-default\">\r\n              加载单词库\r\n            </button>\r\n            <IndexList indexs={indexs} setIndex={setIndex} />\r\n            <IndexRefine filterableAttributes={filterableAttributes} />\r\n          </div>\r\n          <div className=\"right-panel\">\r\n            <CurrentRefinements />\r\n            <CustomSearchBox />\r\n            <Stats />\r\n            <HitsPerPage\r\n              defaultRefinement={40}\r\n              items={[\r\n                { value: 10, label: \"显示 10 条每页\" },\r\n                { value: 20, label: \"显示 20 条每页\" },\r\n                { value: 40, label: \"显示 40 条每页\" },\r\n              ]}\r\n            />\r\n            <Hits hitComponent={Hit} />\r\n            <Pagination showLast={true} />\r\n          </div>\r\n        </div>\r\n      </InstantSearch>\r\n    );\r\n  }\r\n}\r\n","import \"instantsearch.css/themes/algolia-min.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { MeiliSearch } from \"meilisearch\";\r\nimport IndexList from \"../index/IndexList\";\r\nimport IndexRefine from \"../index/IndexRefine\";\r\nimport { Snippet } from \"react-instantsearch-dom\";\r\nimport PubSub from \"pubsub-js\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n    InstantSearch,\r\n    Hits,\r\n    Pagination,\r\n    HitsPerPage,\r\n    Configure,\r\n    Stats,\r\n    connectSearchBox,\r\n    CurrentRefinements,\r\n} from \"react-instantsearch-dom\";\r\n\r\nimport \"./DocPage.css\";\r\nimport { instantMeiliSearch } from \"@meilisearch/instant-meilisearch\";\r\nimport { motion } from \"framer-motion\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Input from \"@mui/material/Input\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\n\r\n\r\nconst client = new MeiliSearch({\r\n    host: \"http://127.0.0.1:7700\",\r\n    apiKey: \"MASTER_KEY\",\r\n});\r\n\r\nconst SearchBox = ({ currentRefinement, refine }) => {\r\n    const theme = useTheme();\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, scale: 0.5 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            transition={{ duration: 0.5 }}\r\n        >\r\n            <Box\r\n                display=\"flex\"\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n                sx={{\r\n                    bgcolor: `${theme.palette.primary.main}`,\r\n                    borderRadius: 2,\r\n                }}\r\n                minHeight=\"10vh\"\r\n            >\r\n                <Box sx={{\r\n                    bgcolor: `${theme.palette.secondary.main}`,\r\n                }}>\r\n                    <Input\r\n                        type=\"search\"\r\n                        playholder=\"搜索\"\r\n                        disableUnderline={true}\r\n                        value={currentRefinement}\r\n                        onChange={(event) => refine(event.currentTarget.value)}\r\n                    />\r\n                </Box>\r\n            </Box>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nconst CustomSearchBox = connectSearchBox(SearchBox);\r\n\r\nfunction DocPage(props) {\r\n\r\n    const [apikey, setApikey] = useState('b8816e913cdcb1e2bcedcf15f4f9f0d8ef5d64ac92738a4b2d5a83648e3f8397');\r\n    const [tenant_token, setTenant_token] = useState('');\r\n    const token = useSelector(state => state.userInfo.token);\r\n    useEffect(() => {\r\n        if (token === \"\") {\r\n            console.log(3333)\r\n            // this.token = PubSub.subscribe('sendtoken', (_, usertoken) => {\r\n            // var newusertoken = usertoken\r\n            // const num=useSelector(state=>state.num)\r\n            // console.log(\"usertoken\",newusertoken)\r\n            // this.createToken(newusertoken)\r\n            // })\r\n            console.log(\"useSelector\", token)\r\n            // this.createToken(useSelector(state=>state.userInfo.token)); \r\n        }\r\n        else {\r\n\r\n            // console.log(\"useSelector\",useSelector(state=>state.userInfo.token))\r\n            createToken(token);\r\n            console.log(2222, tenant_token)\r\n        }\r\n        // const newheader = document.querySelectorAll('#header')[0];\r\n        // setTimeout(() => {\r\n        //   newheader.innerHTML = header;\r\n        // }, 3000);\r\n    }, []);\r\n\r\n    const createToken = (userid) => {\r\n        console.log(\"usertoken:\", userid.slice(0, 7))\r\n        var usertoken = userid.slice(0, 7)\r\n        // if(usertoken === \"MTcwXzI\"){\r\n        //   usertoken = \"admin\"\r\n        // }\r\n        //应在登陆成功后调用，登录后向state传递一个userid，产生其tenant_token\r\n        axios\r\n            .get(\"http://localhost:3000/api1/newTenantToken\", {\r\n                params: { userid: usertoken },\r\n            })\r\n            .then((response) => {\r\n                console.log(\"成功了\", response.data);\r\n                setTenant_token(response.data)\r\n            });\r\n        \r\n    };\r\n\r\n    const refreshIndex = (indexName) => {\r\n        PubSub.publish(\"refreshIndex\", indexName);\r\n    }\r\n    const updateDocIndexs = () => {\r\n        props.updateIndexs(apikey);\r\n    };\r\n    const Hit = ({ hit }) => {\r\n        let navigate = useNavigate();\r\n        const routeChange = () => {\r\n            let path = `/result`;\r\n            navigate(path, {\r\n                state: {\r\n                    value: hit.text,\r\n                    hit: hit,\r\n                    selectedIndex: props.selectedIndex,\r\n                    userid: token.slice(0, 7),\r\n                },\r\n            });\r\n        };\r\n        return (\r\n            <div key={hit.id + hit.title} className=\"hit-description\">\r\n                {props.displayedAttributes.map((attribute) => {\r\n                    return attribute === \"public\" ? (\r\n                        <div key={hit.id + attribute}>\r\n                            已公开：\r\n                            {hit.public === \"true\" ? \"是\" : \"否\"}\r\n                        </div>\r\n                    ) : attribute === \"id\" ? (\r\n                        <></>\r\n                    ) : attribute === \"url\" ? (\r\n                        <></>\r\n                    ) : attribute === \"text\" ? (\r\n                        <div className=\"hit-passage\" key={hit.id + attribute}>\r\n                            {\"文章\"}：\r\n                            <Snippet attribute={attribute} hit={hit} />\r\n                        </div>\r\n                    ) : (\r\n                        <div key={hit.id + attribute}>\r\n                            {attribute === \"title\" ? \"标题\" : attribute}：\r\n                            <Snippet attribute={attribute} hit={hit} />\r\n                        </div>\r\n                    );\r\n                })}\r\n                <button onClick={routeChange} className=\"btn btn-default\">\r\n                    浏览文本\r\n                </button>\r\n            </div>\r\n        );\r\n    };\r\n    return (\r\n        <InstantSearch\r\n            indexName={props.selectedIndex}\r\n            searchClient={instantMeiliSearch(\r\n                \"http://127.0.0.1:7700/\",\r\n                tenant_token\r\n            )}\r\n        >\r\n            <div className=\"ais-InstantSearch\">\r\n                <div className=\"left-panel\">\r\n                    <button onClick={updateDocIndexs} className=\"btn btn-default\">\r\n                        加载文本库\r\n                    </button>\r\n                    <IndexList indexs={props.indexs} setIndex={props.setIndex} />\r\n                    {\r\n                        props.selectedIndex === \"doc_wiki_05\" ? <IndexRefine filterableAttributes={props.filterableAttributes} /> : <></>\r\n                    }\r\n\r\n                    <Configure\r\n                        attributesToSnippet={[\"description:\"]}\r\n                        snippetEllipsisText={\"...\"}\r\n                    />\r\n                </div>\r\n                <div className=\"right-panel\">\r\n                    <CurrentRefinements />\r\n                    <CustomSearchBox />\r\n                    <Stats />\r\n                    <HitsPerPage\r\n                        defaultRefinement={20}\r\n                        items={[\r\n                            { value: 10, label: \"显示 10 条每页\" },\r\n                            { value: 20, label: \"显示 20 条每页\" },\r\n                            { value: 40, label: \"显示 40 条每页\" },\r\n                        ]}\r\n                    />\r\n                    <Hits hitComponent={Hit} />\r\n                    <Pagination showLast={true} />\r\n                </div>\r\n            </div>\r\n        </InstantSearch>\r\n    );\r\n};\r\n\r\nexport default DocPage;","import React, { useRef } from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport Container from '@mui/material/Container';\r\n\r\n\r\nfunction AnalyzePage() {\r\n  const editorValue = useRef(\"\");\r\n  const log = () => {\r\n    if (editorValue.current) {\r\n      console.log(editorValue.current.getContent());\r\n    }\r\n  };\r\n  return (\r\n    <Container sx={{ display: 'flex', mt: 2}}>\r\n    <div>\r\n      <Editor\r\n        tinymceScriptSrc={process.env.PUBLIC_URL + \"/tinymce/tinymce.min.js\"}\r\n        onInit={(evt, editor) => (editorValue.current = editor)}\r\n        initialValue={\"\"}\r\n        init={{\r\n          id: \"tiny2\",\r\n          language: \"zh-Hans\",\r\n          min_height: 540,\r\n          width: 590,\r\n          menubar: false,\r\n          icons: \"savetext3\",\r\n          plugins:\r\n            \" autoresize save  searchreplace autolink fullscreen link charmap pagebreak inserTdatetime advlist lists wordcount\",\r\n          toolbar:\r\n            \" link  newdocument save print searchreplace undo redo cut copy paste blockquote removeformat forecolor backcolor bold italic underline strikethrough charmap blocks fontsize alignleft aligncenter alignright alignjustify ouTdent indent pagebreak inserTdatetime  fullscreen\",\r\n          content_style:\r\n            \"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }\",\r\n          file_picker_callback: function (callback, value, meta) {\r\n            //文件分类\r\n            var filetype =\r\n              \".pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4\";\r\n            var upurl = \"/api/controller/\";\r\n            //为不同插件指定文件类型及后端地址\r\n            switch (meta.filetype) {\r\n              case \"image\":\r\n                filetype = \".jpg, .jpeg, .png, .gif\";\r\n                upurl += \"action1\";\r\n                break;\r\n              case \"media\":\r\n                filetype = \".mp3, .mp4\";\r\n                upurl += \"action2\";\r\n                break;\r\n              case \"file\":\r\n                break;\r\n            }\r\n          },\r\n        }}\r\n      />\r\n      <Button onClick={log}>分析文章</Button>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default AnalyzePage;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const homeSet = createSlice({\r\n  name: \"homeSet\",\r\n  initialState: {\r\n    value: 0,\r\n  },\r\n  reducers: {\r\n    word: (state) => {\r\n      state.value = 1;\r\n    },\r\n    article: (state) => {\r\n      state.value = 2;\r\n    },\r\n    edit: (state) => {\r\n      state.value = 3;\r\n    },\r\n    login: (state) => {\r\n      state.value = 4;\r\n    },\r\n    reset: (state) => {\r\n      state.value = 0;\r\n    }\r\n  },\r\n});\r\n\r\nexport const { word, article, edit, login, reset } = homeSet.actions;\r\n\r\nexport default homeSet.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const loginState = createSlice({\r\n    name: 'loginState',\r\n    initialState: {\r\n        value: false\r\n    },\r\n    reducers: {\r\n        login: (state) => {\r\n            state.value = true;\r\n        },\r\n        logout: (state) => {\r\n            state.value = false;\r\n        }\r\n    }\r\n})\r\n\r\nexport const { login, logout } = loginState.actions;\r\n\r\nexport default loginState.reducer;","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    user: '',\r\n    token: ''\r\n}\r\n\r\nexport const userInfo = createSlice({\r\n    name: 'userInfo',\r\n    initialState,\r\n    reducers: {\r\n        userLoggedIn: (state, action) => {\r\n            const {user, token} = action.payload;\r\n            state.user = user;\r\n            state.token = token;\r\n        },\r\n        userLoggedout: (state, action) => {\r\n            state = initialState;\r\n        }\r\n    }\r\n})\r\n\r\nexport const { userLoggedIn, userLoggedout } = userInfo.actions;\r\n\r\nexport default userInfo.reducer;","import * as React from \"react\";\r\nimport AppBar from \"@mui/material/AppBar\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport Container from \"@mui/material/Container\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport AdbIcon from \"@mui/icons-material/Adb\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { word, article, edit, login, reset } from \"../store/display/homeSet\";\r\nimport { logout } from \"../store/user/loginState\";\r\nimport { userLoggedout } from \"../store/user/userInfo\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst ResponsiveAppBar = () => {\r\n  const navigate = useNavigate();\r\n  const [anchorElUser, setAnchorElUser] = React.useState(null);\r\n  const backToHome = () => {\r\n    dispatch(reset());\r\n    navigate('/');\r\n  }\r\n  const handleWordSearch = () => {\r\n    dispatch(word());\r\n    navigate('/');\r\n  }\r\n  const handleArticleSearch = () => {\r\n    dispatch(article());\r\n    navigate('/');\r\n  }\r\n  const handleOpenUserMenu = (event) => {\r\n    setAnchorElUser(event.currentTarget);\r\n  };\r\n  const handleCloseUserMenu = () => {\r\n    setAnchorElUser(null);\r\n  };\r\n  const userDashboard = () => {\r\n    setAnchorElUser(null);\r\n    navigate('/dashboard');\r\n  }\r\n  const userLogout = () => {\r\n    setAnchorElUser(null);\r\n    dispatch(reset());\r\n    dispatch(logout());\r\n    dispatch(userLoggedout());\r\n    navigate('/');\r\n  };\r\n  const dispatch = useDispatch();\r\n  const loggedIn = useSelector((state) => state.loginState.value);\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Container maxWidth=\"xl\">\r\n        <Toolbar disableGutters>\r\n          <AdbIcon sx={{ display: { xs: \"none\", md: \"flex\" }, mr: 1 }} />\r\n          <Typography\r\n            variant=\"h6\"\r\n            noWrap\r\n            component=\"a\"\r\n            onClick={backToHome}\r\n            sx={{\r\n              mr: 2,\r\n              display: { xs: \"none\", md: \"flex\" },\r\n              fontFamily: \"monospace\",\r\n              fontWeight: 700,\r\n              letterSpacing: \".3rem\",\r\n              color: \"inherit\",\r\n              textDecoration: \"none\",\r\n            }}\r\n          >\r\n            新中文检索系统\r\n          </Typography>\r\n          <Box sx={{ flexGrow: 1, display: { xs: \"none\", md: \"flex\" } }}>\r\n            <Button\r\n              sx={{ my: 2, color: \"white\", display: \"block\" }}\r\n              onClick={handleWordSearch}\r\n            >\r\n              词语检索\r\n            </Button>\r\n            <Button\r\n              sx={{ my: 2, color: \"white\", display: \"block\" }}\r\n              onClick={handleArticleSearch}\r\n            >\r\n              文章检索\r\n            </Button>\r\n            <Button\r\n              sx={{ my: 2, color: \"white\", display: \"block\" }}\r\n              onClick={() => dispatch(edit())}\r\n            >\r\n              分析文章\r\n            </Button>\r\n          </Box>\r\n          {loggedIn ? (\r\n            <Box sx={{ flexGrow: 0 }}>\r\n              <Tooltip title=\"用户设置\">\r\n                <IconButton onClick={handleOpenUserMenu} sx={{ p: 0 }}>\r\n                  <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/2.jpg\" />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Menu\r\n                sx={{ mt: \"45px\" }}\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorElUser}\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                open={Boolean(anchorElUser)}\r\n                onClose={handleCloseUserMenu}\r\n              >\r\n                <MenuItem onClick={userDashboard}>\r\n                  <Typography textAlign=\"center\">个人主页</Typography>\r\n                </MenuItem>\r\n                <MenuItem onClick={userLogout}>\r\n                  <Typography textAlign=\"center\">登出</Typography>\r\n                </MenuItem>\r\n              </Menu>\r\n            </Box>\r\n          ) : (\r\n            <Box sx={{ flexGrow: 0 }}>\r\n              <Button\r\n                sx={{ my: 2, color: \"white\", display: \"block\" }}\r\n                onClick={() => dispatch(login())}\r\n              >\r\n                用户登录\r\n              </Button>\r\n            </Box>\r\n          )}\r\n        </Toolbar>\r\n      </Container>\r\n    </AppBar>\r\n  );\r\n};\r\nexport default ResponsiveAppBar;\r\n","import React, { useState } from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { Box, TextField } from \"@mui/material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport axios from \"axios\";\r\n\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { login } from \"../store/user/loginState\";\r\nimport { userLoggedIn } from \"../store/user/userInfo\";\r\nimport { reset } from \"../store/display/homeSet\";\r\nimport PubSub from \"pubsub-js\";\r\n\r\n\r\nconst options = {\r\n  method: \"POST\",\r\n  url: \"http://106.75.250.96:8888/api/open/login\",\r\n  headers: { \"content-type\": \"application/json\", Accept: \"application/json\" },\r\n};\r\nconst sendToken =(usertoken) =>{\r\n  PubSub.publish(\"sendtoken\", usertoken);\r\n}\r\nexport default function Login() {\r\n  const theme = useTheme();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const loggedIn = useSelector((state) => state.loginState.value);\r\n  const handleLogin = (event) => {\r\n    event.preventDefault();\r\n    let info = { password: password, username: username };\r\n    options.data = info;\r\n    axios\r\n      .request(options)\r\n      .then((res) => {\r\n        const statusCode = res.data.code;\r\n        switch (statusCode) {\r\n          case 200:\r\n            console.log(res.data.data);\r\n            const token = res.data.data.token;\r\n            sendToken(token)\r\n            const user = res.data.data.name;\r\n            const payload = {\r\n              user: user,\r\n              token: token\r\n            }\r\n            alert(\"用户\" + user + \"登陆成功！\");\r\n            dispatch(login());\r\n            dispatch(userLoggedIn(payload));\r\n            break;\r\n          default:\r\n            event.target.reset();\r\n            setUsername(\"\");\r\n            setPassword(\"\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  };\r\n  if (loggedIn) {\r\n    dispatch(reset());\r\n    return <Navigate to=\"/\" />;\r\n  }\r\n  return (\r\n    <>\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.5 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        transition={{ duration: 0.5 }}\r\n      >\r\n        <Box\r\n          display=\"flex\"\r\n          alignItems=\"center\"\r\n          justifyContent=\"center\"\r\n          sx={{\r\n            bgcolor: `${theme.palette.secondary.main}`,\r\n          }}\r\n          minHeight=\"100vh\"\r\n        >\r\n          <form onSubmit={handleLogin}>\r\n            <h2>登录</h2>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"username\"\r\n              label=\"用户名\"\r\n              name=\"username\"\r\n              autoFocus\r\n              onChange={(event) => setUsername(event.currentTarget.value)}\r\n            />\r\n            <TextField\r\n              rvariant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"密码\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              onChange={(event) => setPassword(event.currentTarget.value)}\r\n            />\r\n            <Button fullWidth type=\"submit\" variant=\"contained\">\r\n              用户登录\r\n            </Button>\r\n          </form>\r\n        </Box>\r\n      </motion.div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { word, article, edit } from \"../store/display/homeSet\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\n\r\n\r\nconst Choose = () => {\r\n  const theme = useTheme();\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <>\r\n      <Box\r\n        display=\"flex\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n        minHeight=\"100vh\"\r\n      >\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.5 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ duration: 0.5 }}\r\n        >\r\n          <Stack direction=\"row\" spacing={2}>\r\n            <motion.div\r\n              whileHover={{\r\n                scale: 1.1,\r\n                transition: { duration: 0.5 },\r\n                textShadow: \"0px 0px 4px gray\"\r\n              }}\r\n              whileTap={{ scale: 0.8 }}\r\n            >\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ height: 200, width: 200, fontSize: 30, backgroundColor: `${theme.palette.primary.light}` }}\r\n                onClick={() => dispatch(word())}\r\n              >\r\n                词语检索\r\n              </Button>\r\n            </motion.div>\r\n            <motion.div\r\n              whileHover={{\r\n                scale: 1.1,\r\n                transition: { duration: 0.5 },\r\n                textShadow: \"0px 0px 4px gray\"\r\n              }}\r\n              whileTap={{ scale: 0.8 }}\r\n            >\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ height: 200, width: 200, fontSize: 30, bgcolor: `${theme.palette.primary.main}` }}\r\n                onClick={() => dispatch(article())}\r\n              >\r\n                文章检索\r\n              </Button>\r\n            </motion.div>\r\n            <motion.div\r\n              whileHover={{\r\n                scale: 1.1,\r\n                transition: { duration: 0.5 },\r\n                textShadow: \"0px 0px 4px gray\"\r\n              }}\r\n              whileTap={{ scale: 0.8 }}\r\n            >\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ height: 200, width: 200, fontSize: 30, bgcolor: `${theme.palette.primary.dark}` }}\r\n                onClick={() => dispatch(edit())}\r\n              >\r\n                分析文章\r\n              </Button>\r\n            </motion.div>\r\n          </Stack>\r\n        </motion.div>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Choose;\r\n","import \"instantsearch.css/themes/algolia-min.css\";\r\nimport React, { Component } from \"react\";\r\nimport { MeiliSearch } from \"meilisearch\";\r\n\r\nimport Footer from \"../component/main/footer\";\r\nimport WordPage from \"../component/main/WordPage\";\r\nimport DocPage from \"../component/main/DocPagefun\";\r\nimport AnalyzePage from \"../component/main/AnalyzePage\";\r\nimport ResponsiveAppBar from \"../component/navbar/NavBar\";\r\nimport Login from \"../component/login/Login\";\r\nimport PubSub from \"pubsub-js\";\r\n\r\nimport Choose from \"../component/home/choose\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    indexs: [],\r\n    selectedIndex: \"\",\r\n    filterableAttributes: [],\r\n    displayedAttributes: [],\r\n    tab: \"doc\",\r\n    userid: \"\",\r\n  };\r\n  // componentDidMount(){\r\n  //   this.token = PubSub.subscribe('sendtoken', (_, usertoken) => {\r\n  //     this.setState({userid:usertoken})\r\n  //   })\r\n  // }\r\n  componentWillUnmount() {\r\n    PubSub.unsubscribe(this.token)\r\n  }\r\n  updateIndexs = (apiKey) => {\r\n    //获取现在所有的indexs\r\n    const client = new MeiliSearch({\r\n      host: \"http://127.0.0.1:7700/\",\r\n      apiKey: apiKey,\r\n    });\r\n    const curIndex = client.getIndexes();\r\n    var newIndex = [];\r\n    curIndex.then((res) => {\r\n      for (var i = 0; i < res.results.length; i++) {\r\n        console.log(res.results);\r\n        newIndex.push(res.results[i].uid);\r\n      }\r\n      this.setState({ indexs: newIndex });\r\n    });\r\n  };\r\n  getFilterableAttributes = (selectedIndex) => {\r\n    const client = new MeiliSearch({\r\n      host: \"http://127.0.0.1:7700/\",\r\n      apiKey: \"MASTER_KEY\",\r\n    });\r\n    //获取所有filterableAttributes\r\n    const settings = client.index(selectedIndex).getSettings();\r\n    settings.then((res) => {\r\n      this.setState({ filterableAttributes: res.filterableAttributes });\r\n      // console.log(res.filterableAttributes);\r\n    });\r\n  };\r\n  getDisplayedAttributes = (selectedIndex) => {\r\n    const client = new MeiliSearch({\r\n      host: \"http://127.0.0.1:7700\",\r\n      apiKey: \"MASTER_KEY\",\r\n    });\r\n    const displayedAttributes = client\r\n      .index(selectedIndex)\r\n      .getDisplayedAttributes();\r\n    var newDisplayedAttributes = [];\r\n    displayedAttributes.then((res) => {\r\n      for (var i = 0; i < res.length; i++) {\r\n        newDisplayedAttributes.push(res[i]);\r\n      }\r\n      this.setState({ displayedAttributes: newDisplayedAttributes });\r\n    });\r\n  };\r\n  setIndex = (indexName) => {\r\n    this.setState({ selectedIndex: indexName });\r\n    this.getFilterableAttributes(indexName);\r\n    this.getDisplayedAttributes(indexName);\r\n  };\r\n  getLogin = (value) => {\r\n    this.setState({ login: value });\r\n  };\r\n\r\n  render() {\r\n    switch (this.props.display) {\r\n      case 0:\r\n        return (\r\n          <>\r\n            <ResponsiveAppBar />\r\n            <Choose />\r\n            <Footer />\r\n          </>\r\n        );\r\n      case 1:\r\n        return (\r\n          <>\r\n            <ResponsiveAppBar />\r\n            <WordPage\r\n              updateIndexs={this.updateIndexs}\r\n              setIndex={this.setIndex}\r\n              {...this.state}\r\n            />\r\n            <Footer />\r\n          </>\r\n        );\r\n      case 2:\r\n        return (\r\n          <>\r\n            <ResponsiveAppBar />\r\n            <DocPage\r\n              updateIndexs={this.updateIndexs}\r\n              setIndex={this.setIndex}\r\n              {...this.state}\r\n            />\r\n            <Footer />\r\n          </>\r\n        );\r\n      case 3:\r\n        return (\r\n          <>\r\n            <ResponsiveAppBar />\r\n            <AnalyzePage\r\n              updateIndexs={this.updateIndexs}\r\n              setIndex={this.setIndex}\r\n              {...this.state}\r\n            />\r\n            <Footer />\r\n          </>\r\n        );\r\n      case 4:\r\n        return (\r\n          <>\r\n            <ResponsiveAppBar />\r\n            <Login />\r\n            <Footer />\r\n          </>\r\n        );\r\n      default:\r\n        return (\r\n          <>\r\n            <ResponsiveAppBar />\r\n            <Choose />\r\n            <Footer />\r\n          </>\r\n        );\r\n    }\r\n  }\r\n}\r\n\r\nexport default () => {\r\n  const display = useSelector((state) => state.homeSet.value);\r\n  return <Home display={display} />;\r\n};\r\n","import React from \"react\";\r\nimport ResponsiveAppBar from \"../component/navbar/NavBar\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport Divider from '@mui/material/Divider';\r\nimport { motion } from \"framer-motion\";\r\n\r\n\r\nfunction Dashboard() {\r\n  return (\r\n    <>\r\n      <ResponsiveAppBar />\r\n      <Box\r\n        sx={{\r\n          height: \"100vh\",\r\n          backgroundColor: \"primary.light\",\r\n        }}\r\n      >\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.5 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ duration: 0.5 }}\r\n          // whileHover={{\r\n          //   scale: 1.01,\r\n          //   transition: { duration: 0.3 },\r\n          // }}\r\n          whileTap={{ scale: 0.95 }}\r\n        >\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n            spacing={1}\r\n          >\r\n            <Grid item xs={4}>\r\n              <Paper\r\n                elevation={3}\r\n                sx={{\r\n                  height: \"95vh\",\r\n                  borderRadius: 3,\r\n                  backgroundColor: \"primary.light\",\r\n                }}\r\n              >\r\n                <Box sx={{height: \"42vh\"}}>user: root</Box>\r\n                <Divider />\r\n                <Box></Box>\r\n              </Paper>\r\n            </Grid>\r\n\r\n            <Grid item xs={8}>\r\n              <Paper\r\n                elevation={3}\r\n                sx={{\r\n                  height: \"95vh\",\r\n                  borderRadius: 3,\r\n                  backgroundColor: \"primary.light\",\r\n                }}\r\n              >\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n        </motion.div>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { useRef } from \"react\";\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport Button from '@mui/material/Button';\r\nimport { MeiliSearch } from \"meilisearch\";\r\n\r\nconst Analysis = () => {\r\n  let navigate = useNavigate();\r\n  const editorRef = useRef(null);\r\n  const location = useLocation();\r\n  const routeChange = () => {\r\n    let path = `/result`;\r\n    navigate(path, {\r\n      state: {\r\n        value: location.state.value,\r\n        hit: location.state.hit,\r\n        selectedIndex: location.state.selectedIndex,\r\n        userid: location.state.userid\r\n      }\r\n    });\r\n  };\r\n  const client = new MeiliSearch({ host: \"http://127.0.0.1:7700\", apiKey: \"MASTER_KEY\" });\r\n\r\n  const setPrivate = (hit) => {// 通过私有化申请,改为收藏，不从原数据删除\r\n    if (window.confirm('确定收藏？在all_private中搜索', hit.title, '查找收藏后的信息')) {\r\n      if (location.state.userid === '') { window.alert(\"请先登录，才可收藏此条\") }\r\n      else {\r\n        client.index('all_private').addDocuments([{\r\n          id: hit.id,\r\n          url: hit.url,\r\n          title: hit.title,\r\n          text: hit.text,\r\n          public: \"true\", //收藏后仍为公有，直到修改保存后需要改为false，直到将其公开\r\n          userid: location.state.userid,\r\n          级别: hit.级别,\r\n          genre: hit.genre\r\n        }])\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <Editor\r\n        tinymceScriptSrc={process.env.PUBLIC_URL + \"/tinymce/tinymce.min.js\"}\r\n        onInit={(evt, editor) => (editorRef.current = editor)}\r\n        initialValue={location.state.value}\r\n        init={{\r\n          id: \"tiny1\",\r\n          language: \"zh-Hans\",\r\n          height: 500,\r\n          menubar: false,\r\n          plugins: [\"fullscreen\", \"link\", \"wordcount\"],\r\n          toolbar: \"link\",\r\n          content_style:\r\n            \"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }\",\r\n          placeholder: \"请输入待分析文本\",\r\n          save_onsavecallback: function () {\r\n            console.log(\"Saved\");\r\n          },\r\n          // file_picker_callback: function (callback, value, meta) {\r\n          //   //文件分类\r\n          //   var filetype =\r\n          //     \".pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4\";\r\n          //   var upurl = \"/api/controller/\";\r\n          //   //为不同插件指定文件类型及后端地址\r\n          //   switch (meta.filetype) {\r\n          //     case \"image\":\r\n          //       filetype = \".jpg, .jpeg, .png, .gif\";\r\n          //       upurl += \"action1\";\r\n          //       break;\r\n          //     case \"media\":\r\n          //       filetype = \".mp3, .mp4\";\r\n          //       upurl += \"action2\";\r\n          //       break;\r\n          //     case \"file\":\r\n          //       break;\r\n          //   }\r\n          // //模拟出一个input用于添加本地文件\r\n          // var input = document.createElement(\"input\");\r\n          // input.setAttribute(\"type\", \"file\");\r\n          // input.setAttribute(\"accept\", filetype);\r\n          // input.click();\r\n          // input.onchange = function () {\r\n          //   var file = this.files[0];\r\n          //   var xhr, formData;\r\n          //   console.log(file.name);\r\n          //   //TODO:这里写请求\r\n          // };\r\n          // },\r\n        }}\r\n      />\r\n\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <Button\r\n          style={{ backgroundColor: \"#F0F2F5\" }}\r\n          onClick={routeChange}\r\n          className=\"r-button\"\r\n        >\r\n          分析文本\r\n        </Button>\r\n        {\r\n          location.state.selectedIndex !== \"all_private\" && location.state.selectedIndex !== \"wait_to_check\" ?\r\n            location.state.hit.public === 'true' ?\r\n              <Button onClick={() => setPrivate(location.state.hit)} style={{ backgroundColor: \"#F0F2F5\" }}>点击收藏</Button> :\r\n              <></> : <></>\r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Analysis;","import React from 'react';\r\nimport { MeiliSearch } from \"meilisearch\";\r\nimport Button from '@mui/material/Button';\r\nclass FlavorForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: '',\r\n            changed: false //修改保存后改为true\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({ value: event.target.value });\r\n    }\r\n    setWaitPublicCheck = (hit) => {// 公有加入待审核\r\n        const client = new MeiliSearch({ host: \"http://127.0.0.1:7700\", apiKey: \"MASTER_KEY\" });\r\n        //加入到待审核index，同时需要携带该用户的userid，以便后续限制此用户只能访问用户id是自己的数据\r\n        // hit数据中加入userid\r\n        if (window.confirm('确定公开该条吗？管理员通过后将从私有index删除，可在公有库搜索', hit.title, '，若存在则为审核通过')) {\r\n            // 此处要根据修改后tiny内的值进行修改，例如下面text所述\r\n            client.index('wait_to_check').addDocuments([{\r\n                id: hit.id,\r\n                url: hit.url,\r\n                title: hit.title,\r\n                text: hit.text,  // 将hit.text替换成tiny内新保存的值\r\n                级别: hit.级别,\r\n                genre: hit.genre,\r\n                public: 'false',\r\n                userid: this.props.userid //后续根据当前登录用户进行修改\r\n            }])\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {\r\n                    this.props.selectedIndex === \"doc_wiki_05\" ?\r\n                        this.state.changed === true ?\r\n                            <Button onClick={() => this.setWaitPublicCheck(this.props.hit)} style={{ backgroundColor: \"#F0F2F5\" }}>公开此条</Button>\r\n                            //此事件应在保存后执行\r\n                            : <></>\r\n                        : this.props.selectedIndex === \"all_private\" ?\r\n                            this.props.hit.public === 'true' ?\r\n                                this.state.changed === false ? <></> :\r\n                                    <Button onClick={() => this.setWaitPublicCheck(this.props.hit)} style={{ backgroundColor: \"#F0F2F5\" }}>公开此条</Button>\r\n                                //此事件应在保存后执行\r\n                                : <Button onClick={() => this.setWaitPublicCheck(this.props.hit)} style={{ backgroundColor: \"#F0F2F5\" }}>公开此条</Button>\r\n                            // 此按钮用于原本私有的文章，直接设为公有\r\n                            : <></>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default FlavorForm;\r\n","import React from 'react'\r\nimport './tabIndex.css'\r\n\r\nclass TabSetup extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            tabActiveIndex: 0\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let tabActiveIndex = this.state.tabActiveIndex;\r\n        return (\r\n            <div className=\"m-sys-wrap\">\r\n                <div className=\"m-sys-inner\">\r\n                    <div className=\"m-sys-header\">\r\n                        <ul className=\"m-sys-tab-wrap\">\r\n                            <li className={\"m-sys-tab \" + (tabActiveIndex === 0 ? 'active' : '')} onClick={this.handleTabClick.bind(this, 0)}>\r\n                                <span className=\"m-sys-tab-text\">基本信息</span>\r\n                            </li>\r\n                            <li className={\"m-sys-tab \" + (tabActiveIndex === 1 ? 'active' : '')} onClick={this.handleTabClick.bind(this, 1)}>\r\n                                <span className=\"m-sys-tab-text\">高阶信息1</span>\r\n                            </li>\r\n                            <li className={\"m-sys-tab \" + (tabActiveIndex === 2 ? 'active' : '')} onClick={this.handleTabClick.bind(this, 2)}>\r\n                                <span className=\"m-sys-tab-text\">高阶信息2</span>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"m-sys-content\">\r\n                        <div className={\"m-sys-view \" + (tabActiveIndex === 0 ? 'active' : '')}>\r\n                            <div style={{\r\n                                width: '100%',\r\n                                // height: '100 %',\r\n                                border: '2px solid #900',\r\n                                padding: '5px',\r\n                                // margin: 'auto'\r\n                            }}>\r\n                                <p style={{fontSize:'14px'}}>分析结果： 适合HSK 6级以上的学习者</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"m-sys-view \" + (tabActiveIndex === 1 ? 'active' : '')}>\r\n                            1\r\n                        </div>\r\n                        <div className={\"m-sys-view \" + (tabActiveIndex === 2 ? 'active' : '')}>\r\n                            2\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nObject.assign(TabSetup.prototype, {\r\n    handleTabClick(tabActiveIndex) {\r\n        this.setState({\r\n            tabActiveIndex\r\n        })\r\n    }\r\n})\r\n\r\nexport default TabSetup","import { Hidden } from '@mui/material';\r\nimport React, { Component } from 'react'\r\nclass CheckBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      sex:\"0\" // 定义选中的值，如果为空字符串，则默认不选中\r\n     }\r\n  }\r\n  render() { \r\n    return (\r\n        <div>\r\n          <input type=\"radio\" name=\"\" value=\"1\" checked={this.state.sex===\"1\"} onClick={(e)=>this.getValue(e)}/><label htmlFor=\"woman\">私有</label>\r\n        </div>\r\n      );\r\n  }\r\n  \r\n  getValue=(event)=>{\r\n    if(this.state.sex === \"0\"){\r\n      this.setState({\r\n        sex:\"1\"\r\n      })\r\n      this.props.handlePublic(\"1\")\r\n    }\r\n    else if(this.state.sex === \"1\"){\r\n      this.setState({\r\n        sex:\"0\"\r\n      })\r\n      this.props.handlePublic(\"0\")\r\n    }\r\n    //获取单选框选中的值\r\n    console.log(this.state.sex);\r\n\r\n  }\r\n}\r\n \r\nexport default CheckBox;","import React, { useState, useRef, useEffect } from \"react\";\r\n// import \"./App.css\";\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport ReactHTMLTableToExcel from \"react-html-table-to-excel\"; //导表\r\n// import AllPostPage from \"./AllPostPage\";\r\n// import DataToTable from \"../component/result/DataToTable\";\r\nimport Button from '@mui/material/Button';\r\nimport FlavorForm from \"../component/result/FlavorForm\";\r\nimport TabSetup from \"../component/result/TabSetup\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { MeiliSearch } from \"meilisearch\";\r\nimport FileSaver from \"file-saver\";\r\nimport { nanoid } from 'nanoid';\r\n// import { jsPDF } from \"jspdf\";\r\n// import {\r\n//   Button,\r\n//   Table,\r\n//   Thead,\r\n//   Tbody,\r\n//   Tfoot,\r\n//   Tr,\r\n//   Th,\r\n//   Td,\r\n//   TableCaption,\r\n//   TableContainer,\r\n//   Text\r\n// } from \"@chakra-ui/react\";\r\nimport CheckBox from \"../component/CheckBox\";\r\n\r\nfunction Result() {\r\n  const location = useLocation();\r\n  const editorValue = useRef(\"\");\r\n  const [showTable, setShowTable] = useState(true);\r\n  const [edit, setEdit] = useState(false);\r\n  const [newcontent, setNewcontent] = useState(\"\");\r\n  var pblc = \"0\"\r\n  const handlePublic = (newValue) => {\r\n    pblc = newValue\r\n    console.log('111', { pblc })\r\n  }\r\n  const handler = () => {\r\n    setShowTable(!showTable);\r\n  }\r\n  const creatHtmlTree = (htmlTree, style = \"\") => {\r\n    return `\r\n            <!DOCTYPE html>\r\n                <html lang=\"en\">\r\n         <head>\r\n                <meta charset=\"UTF-8\">\r\n                <style>\r\n                    ${style}\r\n                </style>\r\n                </head>\r\n                <body>\r\n                    ${htmlTree}\r\n                </body>\r\n                </html>`;\r\n  };\r\n  const log = () => {\r\n    // console.log(editorValue.current.startContent);\r\n    let content = editorValue.current.getContent();\r\n    let style = \".title-span{ font-size:16px; color:red }\";\r\n    let html = creatHtmlTree(content, style);\r\n    let blob = new Blob([html], {\r\n      type: \"application/vnd.ms-word;charset=UTF-8\",\r\n    });\r\n    FileSaver.saveAs(blob, \"文档名称.docx\");\r\n  };\r\n  const client = new MeiliSearch({ host: \"http://127.0.0.1:7700\", apiKey: \"MASTER_KEY\" });\r\n  const setPrivate = (hit) => {// 通过私有化申请,改为收藏，不从原数据删除\r\n    if (window.confirm('确定收藏？在all_private中搜索', hit.title, '查找收藏后的信息')) {\r\n      if (location.state.userid === '') { window.alert(\"请先登录，才可收藏此条\") }\r\n      else {\r\n        client.index('all_private').addDocuments([{\r\n          id: hit.id,\r\n          url: hit.url,\r\n          title: hit.title,\r\n          text: hit.text,\r\n          public: \"true\", //收藏后仍为公有，直到修改保存后需要改为false，直到将其公开\r\n          userid: location.state.userid,\r\n          级别: hit.级别,\r\n          genre: hit.genre\r\n        }])\r\n        client.index('wait_to_check').deleteDocument(hit.id)\r\n      }\r\n    }\r\n  }\r\n  const setPublic = (hit) => {// 通过公有化申请 （未实现公开到哪个index，还需选择）\r\n    if (window.confirm('确定公开吗？公开后将从私有index与待审核index删除，可在公开库搜索', hit.title, '查找公开后的数据')) {\r\n      client.index('doc_wiki_05').addDocuments([{\r\n        id: hit.id,\r\n        url: hit.url,\r\n        userid: hit.userid,\r\n        title: hit.title,\r\n        text: hit.text,\r\n        public: \"true\",\r\n        级别: hit.级别,\r\n        genre: hit.genre\r\n      }])\r\n      //设为公有从此待审核index删除\r\n      client.index('wait_to_check').deleteDocument(hit.id)\r\n      //公有后将私有index的此条记录更新为公开状态\r\n      client.index('all_private').updateDocuments([{\r\n        id: hit.id,\r\n        public: 'true',\r\n      }])\r\n\r\n      // this.refreshIndex('wait_to_check')\r\n    }\r\n  }\r\n  const refusePublic = (hit) => {\r\n    client.index('wait_to_check').deleteDocument(hit.id)\r\n    // this.refreshIndex('wait_to_check')\r\n  }\r\n  const setWaitPublicCheck = (hit, newContent) => {// 公有加入待审核\r\n    const client = new MeiliSearch({ host: \"http://127.0.0.1:7700\", apiKey: \"MASTER_KEY\" });\r\n    //加入到待审核index，同时需要携带该用户的userid，以便后续限制此用户只能访问用户id是自己的数据\r\n    // hit数据中加入userid\r\n    console.log(\"new\", newContent)\r\n    console.log(\"old\", location.state.hit.text)\r\n    if (location.state.hit.text === newContent) { //此判断内容有格式问题，还需修改\r\n      window.alert(\"您并没有更改内容，保存无效\")\r\n    }\r\n    if (newContent === \"\") {\r\n      window.alert(\"您还没有保存\")\r\n    }\r\n    else if (pblc === \"0\") {//选择公开\r\n      if (window.confirm('您已经修改此内容，点击确认则将新内容公开发布，您可在待审核区查看')) {\r\n        // 此处要根据修改后tiny内的值进行修改，例如下面text所述\r\n        const new_id = nanoid()\r\n        client.index('wait_to_check').addDocuments([{\r\n          id: new_id,\r\n          url: hit.url,\r\n          title: hit.title,\r\n          text: newContent,  // 将hit.text替换成tiny内新保存的值\r\n          级别: hit.级别,\r\n          genre: hit.genre,\r\n          public: 'false',\r\n          userid: location.state.userid //后续根据当前登录用户进行修改\r\n        }])\r\n        client.index('all_private').addDocuments([{\r\n          id: new_id,\r\n          url: hit.url,\r\n          title: hit.title,\r\n          text: newContent,  // 将hit.text替换成tiny内新保存的值\r\n          级别: hit.级别,\r\n          genre: hit.genre,\r\n          public: 'false',\r\n          userid: location.state.userid //后续根据当前登录用户进行修改\r\n        }])\r\n      }\r\n    }\r\n    else {//选择私有\r\n      if (window.confirm('您已经修改此内容，点击确认则保存入私有文本库')) {\r\n        client.index('all_private').addDocuments([{\r\n          id: nanoid(),\r\n          url: hit.url,\r\n          title: hit.title,\r\n          text: newcontent,  // 将hit.text替换成tiny内新保存的值\r\n          级别: hit.级别,\r\n          genre: hit.genre,\r\n          public: 'false',\r\n          userid: location.state.userid //后续根据当前登录用户进行修改\r\n        }])\r\n      }\r\n    }\r\n\r\n  }\r\n  // const download = () => {\r\n  //   let content = editorValue.current.startContent;\r\n  //   const doc = new jsPDF();\r\n  //   doc.addFont(\"../fonts/SourceHanSansSC-VF.ttf\", \"SourceHanSansSC-VF\", \"normal\");\r\n  //   doc.setFont(\"SourceHanSansSC-VF\");\r\n  //   doc.text(content, 10, 10);\r\n  //   doc.save(\"test.pdf\");\r\n  // };\r\n  useEffect(() => {\r\n    const script = document.createElement(\"script\");\r\n    script.src =\r\n      \"https://cdn.jsdelivr.net/npm/vxe-table-plugin-export-pdf/fonts/source-han-sans-normal.js\";\r\n    script.async = true;\r\n    document.body.appendChild(script);\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    };\r\n  }, []);\r\n  return (\r\n    <>\r\n      <div style={{\r\n        width: '1200px',\r\n        padding: '10px',\r\n        margin: 'auto'\r\n      }}>\r\n        \r\n        <div>\r\n          <div style={{ float: \"left\" }}>\r\n            <form\r\n              onSubmit={(event) => {\r\n                event.preventDefault();\r\n              }}\r\n            >\r\n              {/* 使用失去焦点的遮罩层达到不可编辑 */}\r\n              <div style={edit? {opacity: 60,position: 'relative',width: '100%',height: '100%',} : {opacity: 60,position: 'relative',width: '100%',height: '100%',pointerEvents: 'none',}}>\r\n                <Editor\r\n                  tinymceScriptSrc={\r\n                    process.env.PUBLIC_URL + \"/tinymce/tinymce.min.js\"\r\n                  }\r\n                  onInit={(evt, editor) => (editorValue.current = editor)}\r\n                  initialValue={location.state.value}\r\n                  init={{\r\n                    id: \"tiny2\",\r\n                    language: \"zh-Hans\",\r\n                    min_height: 540,\r\n                    width: 590,\r\n                    menubar: false,\r\n                    icons: \"savetext3\",\r\n                    plugins:\r\n                      \" autoresize save  searchreplace autolink fullscreen link charmap pagebreak inserTdatetime advlist lists wordcount\",\r\n                    toolbar:\r\n                      \" link  newdocument save print searchreplace undo redo cut copy paste blockquote removeformat forecolor backcolor bold italic underline strikethrough charmap blocks fontsize alignleft aligncenter alignright alignjustify ouTdent indent pagebreak inserTdatetime  fullscreen\",\r\n                    content_style:\r\n                      \"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }\",\r\n                    save_onsavecallback: function () {\r\n                      // newcontent = editorValue.current.getContent().slice(3, -4)\r\n                      console.log(\"编辑页的Save\", setNewcontent(editorValue.current.getContent().slice(3, -4)));\r\n                      const client = new MeiliSearch({ host: \"http://127.0.0.1:7700\", apiKey: \"MASTER_KEY\" });\r\n                      const new_id = nanoid()\r\n                      client.index('wait_to_submit').addDocuments([{\r\n                        id: new_id,\r\n                        url: location.state.hit.url,\r\n                        title: location.state.hit.title,\r\n                        text: editorValue.current.getContent().slice(3, -4),  // 将hit.text替换成tiny内新保存的值\r\n                        级别: location.state.hit.级别,\r\n                        genre: location.state.hit.genre,\r\n                        public: 'false',\r\n                        userid: location.state.userid //后续根据当前登录用户进行修改\r\n                      }])\r\n                    },\r\n                    file_picker_callback: function (callback, value, meta) {\r\n                      //文件分类\r\n                      var filetype =\r\n                        \".pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4\";\r\n                      var upurl = \"/api/controller/\";\r\n                      //为不同插件指定文件类型及后端地址\r\n                      switch (meta.filetype) {\r\n                        case \"image\":\r\n                          filetype = \".jpg, .jpeg, .png, .gif\";\r\n                          upurl += \"action1\";\r\n                          break;\r\n                        case \"media\":\r\n                          filetype = \".mp3, .mp4\";\r\n                          upurl += \"action2\";\r\n                          break;\r\n                        case \"file\":\r\n                          break;\r\n                      }\r\n                      // //模拟出一个input用于添加本地文件\r\n                      // var input = document.createElement(\"input\");\r\n                      // input.setAttribute(\"type\", \"file\");\r\n                      // input.setAttribute(\"accept\", filetype);\r\n                      // input.click();\r\n                      // input.onchange = function () {\r\n                      //   var file = this.files[0];\r\n                      //   var xhr, formData;\r\n                      //   console.log(file.name);\r\n                      // };\r\n                    },\r\n                  }}\r\n                />\r\n              </div>\r\n              \r\n              {\r\n                edit ?\r\n                  // 可编辑状态\r\n                  <div>\r\n                    <Button style={{ backgroundColor: \"#F0F2F5\" }} onClick={() => { }} className=\"r-button\" >\r\n                      分析文本（未写功能）\r\n                    </Button>\r\n                    <p>下方选择保存后是否公开</p>\r\n                    <CheckBox handlePublic={handlePublic} />\r\n                    <Button style={{ backgroundColor: \"#F0F2F5\" }} onClick={() => { setWaitPublicCheck(location.state.hit, newcontent) }} className=\"r-button\" >\r\n                      提交\r\n                    </Button>\r\n                    <FlavorForm hit={location.state.hit} selectedIndex={location.state.selectedIndex} userid={location.state.userid} />\r\n                  </div>\r\n                  :\r\n                  // 不可编辑状态\r\n                  <div>\r\n                    <div style={{ textAlign: \"center\" }}>\r\n                      <Button style={{ backgroundColor: \"#F0F2F5\" }} onClick={() => { setEdit(true); }} className=\"r-button\" >\r\n                        编辑文本\r\n                      </Button>\r\n                      {\r\n                        location.state.selectedIndex !== \"all_private\" && location.state.selectedIndex !== \"wait_to_check\" ?\r\n                          location.state.hit.public === 'true' ?\r\n                            <Button onClick={() => setPrivate(location.state.hit)} style={{ backgroundColor: \"#F0F2F5\" }}>点击收藏</Button> :\r\n                            <></> : <></>\r\n                      }\r\n                      {\r\n                        //在审核页面显示\r\n                        location.state.userid === \"MTcwXzI\" ?\r\n                          location.state.selectedIndex === 'wait_to_check' ?\r\n                            location.state.hit.public === 'true' ?\r\n                              <Button onClick={() => setPrivate(location.state.hit)} style={{ backgroundColor: \"#F0F2F5\" }}>通过私有化申请</Button> :\r\n                              <div>\r\n                                <Button onClick={() => setPublic(location.state.hit)} style={{ backgroundColor: \"#F0F2F5\" }}>通过公有化申请</Button>\r\n                                <Button onClick={() => refusePublic(location.state.hit)} style={{ backgroundColor: \"#F0F2F5\" }}>拒绝公有化申请</Button>\r\n                              </div> :\r\n                            <></> : <></>\r\n\r\n                      }\r\n                    </div>\r\n                  </div>\r\n              }\r\n              <Button onClick={log}>下载当前文本docx</Button>\r\n              {/* <Button onClick={download}>下载当前文本pdf</Button> */}\r\n\r\n\r\n            </form>\r\n          </div>\r\n          <div style={{\r\n            float: 'right',\r\n            height: '550px',\r\n            width: '590px',\r\n            textAlign: 'center',\r\n            border: '1px solid #900' }}>\r\n            {/* <TabSetup /> */}\r\n          </div>\r\n          \r\n        </div>\r\n        <>\r\n          \r\n          {/* <Button onClick={handler}>展示/隐藏统计信息</Button> */}\r\n          {/* {showTable && <TableContainer>\r\n            <Table variant=\"simple\" id=\"table-to-xls\">\r\n              <TableCaption>统计信息</TableCaption>\r\n              <Thead>\r\n                <Tr>\r\n                  <Th>级别</Th>\r\n                  <Th>1</Th>\r\n                  <Th>2</Th>\r\n                  <Th>3</Th>\r\n                  <Th>4</Th>\r\n                  <Th>5</Th>\r\n                  <Th>6</Th>\r\n                  <Th>7</Th>\r\n                  <Th>8</Th>\r\n                  <Th>9</Th>\r\n                  <Th>未录入</Th>\r\n                </Tr>\r\n              </Thead>\r\n              <Tbody>\r\n                <Tr>\r\n                  <Td>字数</Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                </Tr>\r\n                <Tr>\r\n                  <Td>占比</Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                  <Td></Td>\r\n                </Tr>\r\n              </Tbody>\r\n            </Table>\r\n          </TableContainer>}\r\n          <Button>\r\n            <ReactHTMLTableToExcel\r\n              id=\"test-table-xls-button\"\r\n              className=\"download-table-xls-button\"\r\n              table=\"table-to-xls\"\r\n              filename=\"tablexls\"\r\n              sheet=\"tablexls\"\r\n              buttonText=\"下载分析明细\"\r\n            />\r\n          </Button> */}\r\n        </>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Result;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\r\nimport Home from \"./pages/Home\";\r\nimport Dashboard from \"./pages/Dashboard\";\r\nimport Analysis from \"./pages/Analysis\";\r\nimport Result from \"./pages/Result\";\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      light: \"#4DA4EA\",\r\n      main: \"#2193b0\",\r\n      dark: \"#315399\",\r\n      contrastText: \"#fff\",\r\n    },\r\n    secondary: {\r\n      main: '#45ACD5',\r\n      contrastText: '#000',\r\n    },\r\n  },\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Router>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Home />} />\r\n          <Route path=\"/dashboard\" element={<Dashboard />} />\r\n          <Route path=\"/analysis\" element={<Analysis />} />\r\n          <Route path=\"/result\" element={<Result />} />\r\n        </Routes>\r\n      </Router>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { combineReducers } from \"redux\";\r\nimport homeSet from \"./display/homeSet\";\r\nimport loginState from \"./user/loginState\";\r\nimport userInfo from \"./user/userInfo\";\r\n\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { persistReducer, persistStore } from \"redux-persist\";\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  homeSet: homeSet,\r\n  loginState: loginState,\r\n  userInfo: userInfo,\r\n});\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nexport const store = configureStore({ reducer: persistedReducer });\r\nexport const persistor = persistStore(store);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { persistor, store } from \"./component/store/store\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\n// import 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <App />\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}